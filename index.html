<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue Recognition - Cactus Practice</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <!-- Header content will be generated by JavaScript -->
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Sidebar content will be generated by JavaScript -->
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-header">
                <h1>Revenue Recognition</h1>
                <button class="settings-btn">
                    <i class="fas fa-cog"></i>
                    Settings
                </button>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn">Overview</button>
                <button class="tab-btn">Revenue waterfall</button>
                <button class="tab-btn active">Summary journal entries</button>
                <button class="tab-btn">Statements</button>
                <button class="tab-btn">Data import</button>
                <button class="tab-btn">Rules</button>
                <button class="tab-btn">Chart of accounts</button>
                <button class="tab-btn dropdown">
                    More
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Accounting period</th>
                                <th>Status</th>
                                <th>Total entries</th>
                                <th>Grouped by</th>
                                <th>Last updated</th>
                            </tr>
                        </thead>
                        <tbody id="data-table-body">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Include shared utilities -->
    <script src="js/shared.js"></script>
    <!-- Dashboard specific JavaScript -->
    <script src="js/dashboard.js"></script>
    
    <!-- Fallback and debugging script -->
    <script>
        // Debug script to check if files are loading
        console.log('JavaScript is running');
        console.log('Functions available:', {
            initializeHeader: typeof initializeHeader,
            initializeSidebar: typeof initializeSidebar,
            populateTable: typeof populateTable
        });
        
        // Fallback initialization with error handling
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, attempting initialization...');
            
            try {
                // Try to initialize header
                if (typeof initializeHeader === 'function') {
                    initializeHeader();
                    console.log('Header initialized successfully');
                } else {
                    console.error('initializeHeader function not found');
                }
                
                // Try to initialize sidebar
                if (typeof initializeSidebar === 'function') {
                    initializeSidebar('index');
                    console.log('Sidebar initialized successfully');
                } else {
                    console.error('initializeSidebar function not found');
                }
                
                // Try to populate table
                if (typeof populateTable === 'function') {
                    populateTable();
                    console.log('Table populated successfully');
                } else {
                    console.error('populateTable function not found');
                }
                
            } catch (error) {
                console.error('Error during initialization:', error);
                
                // Fallback: Add basic static content if JavaScript fails
                const sidebar = document.querySelector('.sidebar');
                const header = document.querySelector('.header');
                
                if (sidebar && !sidebar.innerHTML.trim()) {
                    sidebar.innerHTML = `
                        <div style="padding: 20px; color: #999; font-size: 14px;">
                            <p>Loading navigation...</p>
                            <p>If this persists, please refresh the page.</p>
                        </div>
                    `;
                }
                
                if (header && !header.innerHTML.trim()) {
                    header.innerHTML = `
                        <div style="padding: 20px; color: #999; font-size: 14px;">
                            <p>Loading header...</p>
                        </div>
                    `;
                }
            }
        });
    </script>
</body>
</html> 